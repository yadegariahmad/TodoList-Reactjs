(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{124:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(17),c=n.n(o),u=n(26),i=n(16),s=n(59),l=n(2),d={signedUp:!1};var f=n(11),g={showLoader:!1,message:"",messageType:""};var h=n(36);var p=Object(i.e)(Object(i.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t={};switch((arguments.length>1?arguments[1]:void 0).type){case l.h:t={signedUp:!0};break;default:t=e}return t},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,n={};switch(t.type){case l.g:n=Object(f.a)({},e,{showLoader:!0});break;case l.e:n=Object(f.a)({},e,{showLoader:!1});break;case l.f:n=Object(f.a)({},e,{message:t.message,messageType:t.messageType});break;default:n=e}return n},todo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[];switch(t.type){case l.d:n=Object(h.a)(t.payload);break;case l.a:n=[].concat(Object(h.a)(e),[t.payload]);break;case l.c:n=e.map(function(e){return e._id===t.payload.todoId?Object(f.a)({},e,{content:t.payload.content}):Object(f.a)({},e)});break;case l.b:n=e.filter(function(e){return e._id!==t.payload});break;case l.i:n=e.map(function(e){return e._id===t.payload?Object(f.a)({},e,{completed:!e.completed}):Object(f.a)({},e)});break;default:n=e}return n}}),Object(i.d)(Object(i.a)(s.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),m=n(31),b=n(13),y=n(24),v=n(25),O=n(39),E=n(38),I=n(40);function w(e){var t=function(t){function n(){var e,t;Object(y.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(O.a)(this,(e=Object(E.a)(n)).call.apply(e,[this].concat(r)))).state={isLoggedIn:!1},t}return Object(I.a)(n,t),Object(v.a)(n,[{key:"componentDidMount",value:function(){this.checkAuth()}},{key:"checkAuth",value:function(){localStorage.getItem("token")?this.setState({isLoggedIn:!0}):this.props.history.push("/Auth")}},{key:"render",value:function(){return this.state.isLoggedIn?r.a.createElement(e,this.props):null}}]),n}(r.a.Component);return Object(b.g)(t)}var _=n(145),k=n(60),S=n.n(k),j={container:{width:"100%",height:"100%",position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",zIndex:"999",background:"rgba(0, 0, 0, .3)"}},T=function(){return r.a.createElement("div",{style:j.container},r.a.createElement(S.a,{type:"RevolvingDot",color:"#09DD0C",height:"100",width:"100"}))},A=n(41),D=n(53);function L(e){return Object(u.b)(function(e){return{settings:e.settings}},function(e){return{_setMessage:function(t,n){e(Object(A.g)(t,n))}}})(function(t){var n=t.settings,a=t._setMessage;return r.a.createElement("div",{style:{position:"relative",height:"100%"}},r.a.createElement(_.a,{color:D.a.mapMessageTypeToColor(n.messageType),isOpen:!!n.message.length,toggle:function(){return a("","")},style:{top:0,right:0,position:"absolute",zIndex:800}},n.message),n.showLoader&&r.a.createElement(T,null),r.a.createElement(e,t))})}var N=function(e){return function(t){return r.a.createElement(e,t)}},M=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(6),n.e(5)]).then(n.bind(null,176))}),U=Object(a.lazy)(function(){return n.e(7).then(n.bind(null,172))}),P=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,173))}),R=Object(b.g)(function(e){var t=e.location;return r.a.createElement(r.a.Fragment,null,r.a.createElement(a.Suspense,{fallback:r.a.createElement(T,null)},r.a.createElement(b.d,{location:t},r.a.createElement(b.b,{path:"/Home",component:N(w(L(M)))}),r.a.createElement(b.b,{path:"/Add",component:N(w(L(U)))}),r.a.createElement(b.b,{path:"/Auth",component:N(L(P))}),r.a.createElement(b.a,{to:"/Auth"}))))}),C=(n(124),function(){return r.a.createElement("div",{className:"main"},r.a.createElement(m.a,{basename:"/"},r.a.createElement(R,null)))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=n(35),z=n(66),H=n(62),x=n.n(H),X=n(37);J.a.use(z.a).use(x.a).use(X.b).init({lng:"en, fa",fallbackLng:"en",backend:{loadPath:"locales/{{lng}}/{{ns}}.json"},ns:["translations"],defaultNS:"translations",debug:!1,react:{wait:!0},interpolation:{escapeValue:!1}});J.a,n(141),n(142);c.a.render(r.a.createElement(u.a,{store:p},r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},2:function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return c}),n.d(t,"i",function(){return u}),n.d(t,"h",function(){return i}),n.d(t,"g",function(){return s}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return d});var a="GET-TODOS",r="ADD-TODO",o="EDIT-TODO",c="DELETE-TODO",u="COMPLETE-TODO",i="SIGN-UP_SUCCESS",s="SHOW_LOADER",l="HIDE_LOADER",d="SET_MESSAGE"},41:function(e,t,n){"use strict";var a=n(2);function r(e){return{type:e}}function o(e,t){return{type:a.f,message:e,messageType:t}}var c=n(11),u=n(24),i=n(25),s=n(22),l=n.n(s),d=function(){function e(){Object(u.a)(this,e)}return Object(i.a)(e,null,[{key:"init",value:function(){var e=localStorage.getItem("token");return{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}}},{key:"get",value:function(e){var t=this.init();return l.a.get(e,t).then(function(e){return e.data})}},{key:"post",value:function(e,t){var n=this.init();return l.a.post(e,t,n).then(function(e){return e.data})}},{key:"put",value:function(e,t){var n=this.init();return l.a.put(e,t,n).then(function(e){return e.data})}},{key:"delete",value:function(e){var t=this.init();return l.a.delete(e,t).then(function(e){return e.data})}}]),e}(),f={API_MAIN_URL:"https://ahmad-todolist-api.herokuapp.com"};function g(){var e=localStorage.getItem("userId");return function(t){return d.get("".concat(f.API_MAIN_URL,"/todo/getTodos?userId=").concat(e)).then(function(e){if(200!==e.status)throw Error(e.message);t({type:a.d,payload:e.content.todos}),t(r(a.e))}).catch(function(e){t(r(a.e)),t(o(e.message,"error"))})}}function h(e,t){return function(n){return d.post("".concat(f.API_MAIN_URL,"/todo/addTodo"),JSON.stringify(e)).then(function(o){if(201!==o.status)throw Error(o.message);n({type:a.a,payload:Object(c.a)({},e,{_id:o.content.todoID})}),n(r(a.e)),t.push("/Home")}).catch(function(e){n(r(a.e)),n(o(e.message,"error"))})}}function p(e,t){return function(n){return d.put("".concat(f.API_MAIN_URL,"/todo/updateTodo"),JSON.stringify(e)).then(function(o){if(200!==o.status)throw Error(o.message);n({type:a.c,payload:e}),n(r(a.e)),t.push("/Home")}).catch(function(e){n(r(a.e)),n(o(e.message,"error"))})}}function m(e){var t=localStorage.getItem("userId");return function(n){return d.delete("".concat(f.API_MAIN_URL,"/todo/deleteTodo/").concat(e,"?userId=").concat(t)).then(function(t){if(200!==t.status)throw Error(t.message);n({type:a.b,payload:e}),n(r(a.e))}).catch(function(e){n(r(a.e)),n(o(e.message,"error"))})}}function b(e){var t=localStorage.getItem("userId");return function(n){return d.put("".concat(f.API_MAIN_URL,"/todo/toggleTodo/").concat(e,"?userId=").concat(t),{}).then(function(t){if(200!==t.status)throw Error(t.message);n({type:a.i,payload:e}),n(r(a.e))}).catch(function(e){n(r(a.e)),n(o(e.message,"error"))})}}function y(e,t){return function(n){return d.post("".concat(f.API_MAIN_URL,"/auth/login"),JSON.stringify(e)).then(function(e){var o=e.content;if(200!==e.status)throw new Error(e.message);var c=new Date((new Date).getTime()+36e5);localStorage.setItem("token",o.token),localStorage.setItem("userId",o.userId),localStorage.setItem("expiryDate",c.toISOString()),n(r(a.e)),t.push("/Home")}).catch(function(e){n(r(a.e)),n(o(e.message,"error"))})}}function v(e){return function(t){return d.post("".concat(f.API_MAIN_URL,"/auth/signup"),JSON.stringify(e)).then(function(e){if(201!==e.status)throw new Error(e.message);t(r(a.e)),t({type:a.h})}).catch(function(e){t(r(a.e)),t(o(e.message,"error"))})}}n.d(t,"e",function(){return r}),n.d(t,"g",function(){return o}),n.d(t,"d",function(){return g}),n.d(t,"a",function(){return h}),n.d(t,"c",function(){return p}),n.d(t,"b",function(){return m}),n.d(t,"i",function(){return b}),n.d(t,"f",function(){return y}),n.d(t,"h",function(){return v})},53:function(e,t,n){"use strict";t.a={date:function(){return(new Date).toJSON().slice(0,10).replace(/-/g,"/")},mapMessageTypeToColor:function(e){var t="";switch(e){case"error":t="danger";break;case"success":t="success";break;case"general":default:t="primary"}return t},convertEnNumberToFa:function(e,t){var n=["\u06f0","\u06f1","\u06f2","\u06f3","\u06f4","\u06f5","\u06f6","\u06f7","\u06f8","\u06f9"],a=t||document.querySelector("html").getAttribute("lang"),r=e;switch("number"===typeof e&&(r=r.toString()),a){case"fa":r=r.replace(/[0-9]/g,function(e){return n[e]})}return r}}},71:function(e,t,n){e.exports=n(143)}},[[71,2,3]]]);
//# sourceMappingURL=main.dd601930.chunk.js.map